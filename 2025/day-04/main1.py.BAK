def solve_printing_dept(filename):
	try:
		with open(filename, 'r') as f:
			lines = [line.strip() for line in f.readlines() if line.strip()]
	except FileNotFoundError:
		print(f"Error: Could not find file '{filename}'")
		return

	# Convert to a 2D grid (list of lists) for easy access
	grid = [list(line) for line in lines]
	rows = len(grid)
	cols = len(grid[0])

	accessible_count = 0

	# Directions for 8 neighbors: (row_change, col_change)
	# top-left, top, top-right, left, right, bottom-left, bottom, bottom-right
	neighbor_offsets = [
		(-1, -1), (-1, 0), (-1, 1),
		(0, -1),           (0, 1),
		(1, -1),  (1, 0),  (1, 1)
	]

	print(f"Analyzing {rows}x{cols} grid...")

	for r in range(rows):
		for c in range(cols):
			# We only care about rolls of paper ('@')
			if grid[r][c] == '@':
				neighbor_paper_count = 0

				# Check all 8 neighbors
				for dr, dc in neighbor_offsets:
					nr, nc = r + dr, c + dc

					# Boundary check: make sure neighbor is inside the grid
					if 0 <= nr < rows and 0 <= nc < cols:
						if grid[nr][nc] == '@':
							neighbor_paper_count += 1

				# The Rule: Forklifts can access if FEWER than 4 paper neighbors
				if neighbor_paper_count < 4:
					accessible_count += 1
					# Optional: Mark it visually if we wanted to print the map like the example
					# grid[r][c] = 'x'

	print(f"Accessible paper rolls: {accessible_count}")

if __name__ == "__main__":
	solve_printing_dept('input.txt')